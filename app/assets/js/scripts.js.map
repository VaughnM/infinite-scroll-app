{"version":3,"sources":["_settings.js","displayShots.js","getShots.js","lazyLoad.js","scroll.js","z-main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts.js","sourcesContent":["'use strict';\n\nvar infApp = infApp || {};\n\n(function(){\n\ninfApp.settings = {\n  api: {\n    baseUrl: 'https://api.dribbble.com/v1',\n    access_token: '3402bc128ab90bdc0d1ddab729be14c034154ba0fdca8bd1e0d8f230cac3d82c'\n  }\n};\n\n}());","'use strict';\n\nvar infApp = infApp || {};\n\n(function(){\n\n  // creating a HTML template using a json object\n  function prepTemplate(item) {\n    var template = \"\";\n\n    template += '<img data-src=\"' + item.images.normal + '\" alt=\"' + item.title +'\">';\n\n    return template;\n  }\n\n  function prepAllHtml(jsonObj) {\n\n  }\n\n  infApp.prepTemplate = prepTemplate;\n\n}());","'use strict';\n\nvar infApp = infApp || {};\n\n(function(){\n\n  function getShots(options){\n    var request = new XMLHttpRequest();\n\n    var options = options || {};\n    var endPoint = options.endPoint || '/shots/';\n    var page = options.page || '1';\n    var perPage = options.perPage || '10';\n\n    var requestUrl = infApp.settings.api.baseUrl +\n                      endPoint +\n                      '?page=' +\n                      page +\n                      '&per_page=' +\n                      perPage +\n                      '&access_token=' +\n                      infApp.settings.api.access_token;\n\n\n    request.open('GET', requestUrl , true);\n\n    request.onload = function() {\n      var html = [];\n      var htmlString;\n\n      if (request.status >= 200 && request.status < 400) {\n        infApp.shots = JSON.parse(request.responseText);\n\n        console.debug(infApp.shots);\n\n        infApp.shots.forEach(function(item){\n          html.push(infApp.prepTemplate(item));\n        });\n\n        htmlString = html.join('');\n\n        document.getElementById('shots-container').innerHTML += htmlString;\n\n        infApp.pageCount = (infApp.pageCount += 1) || 1;\n\n\n        // callbacks\n        infApp.prepLazyLoading();\n\n        // console.debug(infApp.pageCount);\n\n      } else {\n        console.error(request.responseText);\n      }\n    };\n\n    request.onerror = function() {\n      // There was a connection error of some sort\n      console.error(\"Something went wrong with API request\");\n    };\n\n    request.send();\n  };\n\n\n  infApp.getShots = getShots;\n\n}());","'use strict';\n\nvar infApp = infApp || {};\n\n(function(){\n\n  function prepLazyLoading() {\n    // console.log('prepLazyLoading');\n    window.addEventListener(\"DOMContentLoaded\", lazyLoadImages);\n    window.addEventListener(\"load\", lazyLoadImages);\n    window.addEventListener(\"resize\", lazyLoadImages);\n    window.addEventListener(\"scroll\", lazyLoadImages);\n    lazyLoadImages();\n  }\n\n    function lazyLoadImages() {\n      var images = document.querySelectorAll(\"#shots-container img[data-src]\"),\n          item;\n\n          console.warn(images);\n\n          images[0].setAttribute(\"src\",images[0].getAttribute(\"data-src\"));\n          images[0].removeAttribute(\"data-src\");\n\n      // images.forEach(function(image){\n      //   if (isElementInViewport(image)) {\n      //     image.setAttribute(\"src\",image.getAttribute(\"data-src\"));\n      //     image.removeAttribute(\"data-src\");\n      //   }\n      // });\n\n      // if all the images are loaded, stop calling the handler\n      // if (images.length === 0) {\n      //   window.removeEventListener(\"DOMContentLoaded\", lazyLoadImages);\n      //   window.removeEventListener(\"load\", lazyLoadImages);\n      //   window.removeEventListener(\"resize\", lazyLoadImages);\n      //   window.removeEventListener(\"scroll\", lazyLoadImages);\n      // }\n    }\n\n  function isElementInViewport (el) {\n    var rect = el.getBoundingClientRect();\n\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or $(window).height() */\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */\n    );\n  }\n\n  infApp.prepLazyLoading = prepLazyLoading;\n\n\n}());","'use strict';\n\nvar infApp = infApp || {};\n\n(function(){\n  function addMoreShotsOnScroll() {\n    var body = document.body,\n        html = document.documentElement;\n\n        console.info(document.body.scrollHeight)\n\n    var offset = window.pageYOffset;\n    var iHeight = window.innerHeight;\n    var wHeight = Math.max( body.scrollHeight, body.offsetHeight,\n                       html.clientHeight, html.scrollHeight, html.offsetHeight );\n\n    // console.log('offset: ' + offset +\n    //             '\\nheight: ' + wHeight);\n\n    // adding min offset to prevent double loading\n    if (offset > wHeight && offset + iHeight === wHeight) {\n      console.info('reached the bottom');\n      infApp.getShots({page:infApp.pageCount + 1});\n    }\n\n  };\n\n  window.onscroll = addMoreShotsOnScroll;\n\n  infApp.addMoreShotsOnScroll = addMoreShotsOnScroll;\n}());","'use strict';\n\nvar infApp = infApp || {};\n\n\n(function() {\n  infApp.init = function() {\n    infApp.getShots();\n    infApp.addMoreShotsOnScroll();\n    // infApp.prepLazyLoading();\n  };\n\n  if (document.readyState != 'loading'){\n    infApp.init();\n\n  } else {\n    document.addEventListener('DOMContentLoaded', infApp.init());\n\n  }\n}());\n\n"],"sourceRoot":"/source/"}